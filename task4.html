<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторна 5</title>
</head>
<body>
    <script>
        function fillArray(array, length)
        {
            for (let i = 0; i < length; i++)
            {
                array.push(Math.floor(Math.random() * 11));
            }

            return array;
        }

        function findMax(array)
        {
            let max=Number.MIN_VALUE;

            for(let i = 0; i < array.length; i++)
            {
                if(array[i]>max)
                    max=array[i];
            }
            return max;
        }

		function createNewArray(filledArray)
		{
			let newArray = [];

			for(let i = 0; i < filledArray.length; i++)
			{
				newArray.push(filledArray[i] * findMax(filledArray));
			}
			return newArray;
		}

        function insertionSort(array) {
            // Починаємо з другого елементу (перший вже вважається відсортованим)
            for (let i = 1; i < array.length; i++) {
                // Беремо поточний елемент для вставки
                let currentValue = array[i];
                let j = i - 1;
                // Переміщаємо елементи, які менші за поточний елемент, на одну позицію праворуч
                while (j >= 0 && array[j] < currentValue) {
                    array[j + 1] = array[j];
                    j--;
                }
                // Вставляємо поточний елемент на правильне місце
                array[j + 1] = currentValue;
            }
            return array;
        }

		let repeat;
		
		do
		{
			let array = [];
			let length;
            

			let isValid = false;

			while(!isValid)
			{
				length = prompt("Enter the length of the array: ");
				if (isNaN(length)) 
                {
                    console.log("Please enter the right number");
                }
				else 
                {
                    length = Number(length);  
                    isValid = true;  
                }

			}

            let filledArray = fillArray(array, length);
			console.log("Starting array: " + filledArray);

            let newArray = createNewArray(filledArray);
			console.log("New array: " + newArray);

            let sortedArray = insertionSort(newArray);
            console.log("Sorted new array: " + sortedArray);
            
			repeat = confirm("Enter info again?");
		}while(repeat)
            
        
    </script>
</body>
</html>